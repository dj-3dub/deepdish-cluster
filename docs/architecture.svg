<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.4 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="957pt" height="343pt"
 viewBox="0.00 0.00 956.69 343.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 339)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-339 952.69,-339 952.69,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_lan</title>
<polygon fill="none" stroke="#cfd8dc" points="195.69,-8 195.69,-327 940.69,-327 940.69,-8 195.69,-8"/>
<text text-anchor="middle" x="568.19" y="-311.8" font-family="Times,serif" font-size="14.00">Home LAN 192.168.2.0/24</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_k3s</title>
<polygon fill="none" stroke="#b0bec5" points="265.19,-16 265.19,-234 932.69,-234 932.69,-16 265.19,-16"/>
<text text-anchor="middle" x="598.94" y="-218.8" font-family="Times,serif" font-size="14.00">K3s Cluster</text>
</g>
<!-- pihole -->
<g id="node1" class="node">
<title>pihole</title>
<path fill="#fff8e1" stroke="#263238" d="M444.69,-295.5C444.69,-295.5 215.69,-295.5 215.69,-295.5 209.69,-295.5 203.69,-289.5 203.69,-283.5 203.69,-283.5 203.69,-254.5 203.69,-254.5 203.69,-248.5 209.69,-242.5 215.69,-242.5 215.69,-242.5 444.69,-242.5 444.69,-242.5 450.69,-242.5 456.69,-248.5 456.69,-254.5 456.69,-254.5 456.69,-283.5 456.69,-283.5 456.69,-289.5 450.69,-295.5 444.69,-295.5"/>
<text text-anchor="middle" x="330.19" y="-280.3" font-family="Times,serif" font-size="14.00">Pi&#45;hole DNS</text>
<text text-anchor="middle" x="330.19" y="-265.3" font-family="Times,serif" font-size="14.00">192.168.2.51</text>
<text text-anchor="middle" x="330.19" y="-250.3" font-family="Times,serif" font-size="14.00">Wildcard: *.pizza â†’ 192.168.2.70</text>
</g>
<!-- master -->
<g id="node2" class="node">
<title>master</title>
<path fill="#e3f2fd" stroke="#263238" d="M375.19,-194.5C375.19,-194.5 285.19,-194.5 285.19,-194.5 279.19,-194.5 273.19,-188.5 273.19,-182.5 273.19,-182.5 273.19,-153.5 273.19,-153.5 273.19,-147.5 279.19,-141.5 285.19,-141.5 285.19,-141.5 375.19,-141.5 375.19,-141.5 381.19,-141.5 387.19,-147.5 387.19,-153.5 387.19,-153.5 387.19,-182.5 387.19,-182.5 387.19,-188.5 381.19,-194.5 375.19,-194.5"/>
<text text-anchor="middle" x="330.19" y="-179.3" font-family="Times,serif" font-size="14.00">k3s&#45;master</text>
<text text-anchor="middle" x="330.19" y="-164.3" font-family="Times,serif" font-size="14.00">192.168.2.71</text>
<text text-anchor="middle" x="330.19" y="-149.3" font-family="Times,serif" font-size="14.00">Control Plane</text>
</g>
<!-- node1 -->
<g id="node3" class="node">
<title>node1</title>
<path fill="#e8f5e9" stroke="#263238" d="M626.19,-131.5C626.19,-131.5 539.19,-131.5 539.19,-131.5 533.19,-131.5 527.19,-125.5 527.19,-119.5 527.19,-119.5 527.19,-90.5 527.19,-90.5 527.19,-84.5 533.19,-78.5 539.19,-78.5 539.19,-78.5 626.19,-78.5 626.19,-78.5 632.19,-78.5 638.19,-84.5 638.19,-90.5 638.19,-90.5 638.19,-119.5 638.19,-119.5 638.19,-125.5 632.19,-131.5 626.19,-131.5"/>
<text text-anchor="middle" x="582.69" y="-116.3" font-family="Times,serif" font-size="14.00">k3s&#45;node1</text>
<text text-anchor="middle" x="582.69" y="-101.3" font-family="Times,serif" font-size="14.00">192.168.2.72</text>
<text text-anchor="middle" x="582.69" y="-86.3" font-family="Times,serif" font-size="14.00">Worker</text>
</g>
<!-- master&#45;&gt;node1 -->
<g id="edge5" class="edge">
<title>master&#45;&gt;node1</title>
<path fill="none" stroke="#607d8b" stroke-dasharray="1,5" d="M394.38,-152.11C432.84,-142.44 481.76,-130.13 519.95,-120.53"/>
<polygon fill="#607d8b" stroke="#607d8b" points="393.6,-149.78 387.41,-153.86 394.8,-154.53 393.6,-149.78"/>
<polygon fill="#607d8b" stroke="#607d8b" points="520.76,-122.85 526.96,-118.77 519.57,-118.1 520.76,-122.85"/>
</g>
<!-- node2 -->
<g id="node4" class="node">
<title>node2</title>
<path fill="#e8f5e9" stroke="#263238" d="M626.19,-202.5C626.19,-202.5 539.19,-202.5 539.19,-202.5 533.19,-202.5 527.19,-196.5 527.19,-190.5 527.19,-190.5 527.19,-161.5 527.19,-161.5 527.19,-155.5 533.19,-149.5 539.19,-149.5 539.19,-149.5 626.19,-149.5 626.19,-149.5 632.19,-149.5 638.19,-155.5 638.19,-161.5 638.19,-161.5 638.19,-190.5 638.19,-190.5 638.19,-196.5 632.19,-202.5 626.19,-202.5"/>
<text text-anchor="middle" x="582.69" y="-187.3" font-family="Times,serif" font-size="14.00">k3s&#45;node2</text>
<text text-anchor="middle" x="582.69" y="-172.3" font-family="Times,serif" font-size="14.00">192.168.2.73</text>
<text text-anchor="middle" x="582.69" y="-157.3" font-family="Times,serif" font-size="14.00">Worker</text>
</g>
<!-- master&#45;&gt;node2 -->
<g id="edge6" class="edge">
<title>master&#45;&gt;node2</title>
<path fill="none" stroke="#607d8b" stroke-dasharray="1,5" d="M394.63,-170.03C432.9,-171.25 481.45,-172.8 519.49,-174.01"/>
<polygon fill="#607d8b" stroke="#607d8b" points="394.48,-167.57 387.41,-169.8 394.33,-172.47 394.48,-167.57"/>
<polygon fill="#607d8b" stroke="#607d8b" points="519.88,-176.48 526.96,-174.25 520.04,-171.58 519.88,-176.48"/>
</g>
<!-- vip -->
<g id="node5" class="node">
<title>vip</title>
<path fill="#ffebee" stroke="#263238" d="M373.69,-116C373.69,-116 286.69,-116 286.69,-116 280.69,-116 274.69,-110 274.69,-104 274.69,-104 274.69,-90 274.69,-90 274.69,-84 280.69,-78 286.69,-78 286.69,-78 373.69,-78 373.69,-78 379.69,-78 385.69,-84 385.69,-90 385.69,-90 385.69,-104 385.69,-104 385.69,-110 379.69,-116 373.69,-116"/>
<text text-anchor="middle" x="330.19" y="-100.8" font-family="Times,serif" font-size="14.00">MetalLB VIP</text>
<text text-anchor="middle" x="330.19" y="-85.8" font-family="Times,serif" font-size="14.00">192.168.2.70</text>
</g>
<!-- traefik -->
<g id="node6" class="node">
<title>traefik</title>
<path fill="#f3e5f5" stroke="#263238" d="M632.69,-60C632.69,-60 532.69,-60 532.69,-60 526.69,-60 520.69,-54 520.69,-48 520.69,-48 520.69,-36 520.69,-36 520.69,-30 526.69,-24 532.69,-24 532.69,-24 632.69,-24 632.69,-24 638.69,-24 644.69,-30 644.69,-36 644.69,-36 644.69,-48 644.69,-48 644.69,-54 638.69,-60 632.69,-60"/>
<text text-anchor="middle" x="582.69" y="-38.3" font-family="Times,serif" font-size="14.00">Traefik Ingress</text>
</g>
<!-- vip&#45;&gt;traefik -->
<g id="edge1" class="edge">
<title>vip&#45;&gt;traefik</title>
<path fill="none" stroke="#607d8b" d="M385.73,-85.97C419.48,-79.05 463.66,-69.79 502.69,-61 506.22,-60.21 509.82,-59.38 513.46,-58.54"/>
<polygon fill="#607d8b" stroke="#607d8b" points="514.23,-60.88 520.49,-56.91 513.12,-56.11 514.23,-60.88"/>
</g>
<!-- pizza -->
<g id="node8" class="node">
<title>pizza</title>
<path fill="#fffde7" stroke="#263238" d="M899.19,-60C899.19,-60 811.19,-60 811.19,-60 805.19,-60 799.19,-54 799.19,-48 799.19,-48 799.19,-36 799.19,-36 799.19,-30 805.19,-24 811.19,-24 811.19,-24 899.19,-24 899.19,-24 905.19,-24 911.19,-30 911.19,-36 911.19,-36 911.19,-48 911.19,-48 911.19,-54 905.19,-60 899.19,-60"/>
<text text-anchor="middle" x="855.19" y="-38.3" font-family="Times,serif" font-size="14.00">pizza&#45;api App</text>
</g>
<!-- traefik&#45;&gt;pizza -->
<g id="edge2" class="edge">
<title>traefik&#45;&gt;pizza</title>
<path fill="none" stroke="#607d8b" d="M644.74,-42C688.57,-42 747.48,-42 791.65,-42"/>
<polygon fill="#607d8b" stroke="#607d8b" points="791.89,-44.45 798.89,-42 791.89,-39.55 791.89,-44.45"/>
<text text-anchor="middle" x="715.19" y="-45.8" font-family="Times,serif" font-size="14.00">pizza&#45;api.pizza</text>
</g>
<!-- nginx -->
<g id="node9" class="node">
<title>nginx</title>
<path fill="#fffde7" stroke="#263238" d="M912.69,-114C912.69,-114 797.69,-114 797.69,-114 791.69,-114 785.69,-108 785.69,-102 785.69,-102 785.69,-90 785.69,-90 785.69,-84 791.69,-78 797.69,-78 797.69,-78 912.69,-78 912.69,-78 918.69,-78 924.69,-84 924.69,-90 924.69,-90 924.69,-102 924.69,-102 924.69,-108 918.69,-114 912.69,-114"/>
<text text-anchor="middle" x="855.19" y="-92.3" font-family="Times,serif" font-size="14.00">nginx smoke test</text>
</g>
<!-- traefik&#45;&gt;nginx -->
<g id="edge3" class="edge">
<title>traefik&#45;&gt;nginx</title>
<path fill="none" stroke="#607d8b" d="M644.86,-57.06C650.88,-58.44 656.9,-59.77 662.69,-61 700.67,-69.03 743.11,-76.9 778.37,-83.14"/>
<polygon fill="#607d8b" stroke="#607d8b" points="778,-85.56 785.32,-84.36 778.85,-80.73 778,-85.56"/>
<text text-anchor="middle" x="715.19" y="-85.8" font-family="Times,serif" font-size="14.00">web.pizza</text>
</g>
<!-- certmgr -->
<g id="node7" class="node">
<title>certmgr</title>
<path fill="#f3e5f5" stroke="#263238" d="M374.69,-60C374.69,-60 285.69,-60 285.69,-60 279.69,-60 273.69,-54 273.69,-48 273.69,-48 273.69,-36 273.69,-36 273.69,-30 279.69,-24 285.69,-24 285.69,-24 374.69,-24 374.69,-24 380.69,-24 386.69,-30 386.69,-36 386.69,-36 386.69,-48 386.69,-48 386.69,-54 380.69,-60 374.69,-60"/>
<text text-anchor="middle" x="330.19" y="-38.3" font-family="Times,serif" font-size="14.00">cert&#45;manager</text>
</g>
<!-- certmgr&#45;&gt;traefik -->
<g id="edge4" class="edge">
<title>certmgr&#45;&gt;traefik</title>
<path fill="none" stroke="#607d8b" stroke-dasharray="1,5" d="M386.79,-42C424.1,-42 473.51,-42 513.25,-42"/>
<polygon fill="#607d8b" stroke="#607d8b" points="513.55,-44.45 520.55,-42 513.55,-39.55 513.55,-44.45"/>
<text text-anchor="middle" x="488.69" y="-45.8" font-family="Times,serif" font-size="14.00">TLS</text>
</g>
<!-- user -->
<g id="node10" class="node">
<title>user</title>
<ellipse fill="#ffffff" stroke="#263238" cx="38.35" cy="-183" rx="38.19" ry="18"/>
<text text-anchor="middle" x="38.35" y="-179.3" font-family="Times,serif" font-size="14.00">Client</text>
</g>
<!-- user&#45;&gt;pihole -->
<g id="edge7" class="edge">
<title>user&#45;&gt;pihole</title>
<path fill="none" stroke="#607d8b" d="M68.43,-194.31C99.59,-206.18 150.66,-224.89 195.69,-238 198.58,-238.84 201.52,-239.68 204.48,-240.5"/>
<polygon fill="#607d8b" stroke="#607d8b" points="204.04,-242.92 211.44,-242.41 205.33,-238.19 204.04,-242.92"/>
<text text-anchor="middle" x="140.19" y="-237.8" font-family="Times,serif" font-size="14.00">DNS: *.pizza</text>
</g>
<!-- user&#45;&gt;vip -->
<g id="edge8" class="edge">
<title>user&#45;&gt;vip</title>
<path fill="none" stroke="#607d8b" d="M70.07,-172.71C101.5,-162.3 151.82,-145.92 195.69,-133 219.07,-126.12 244.89,-119.03 267.55,-112.99"/>
<polygon fill="#607d8b" stroke="#607d8b" points="268.34,-115.31 274.47,-111.15 267.08,-110.58 268.34,-115.31"/>
<text text-anchor="middle" x="140.19" y="-167.8" font-family="Times,serif" font-size="14.00">HTTP(S)</text>
</g>
</g>
</svg>
